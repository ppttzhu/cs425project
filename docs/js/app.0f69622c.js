(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/cs425project/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0ddb":function(t,e,s){},"2e91":function(t,e,s){},"3b8c":function(t,e,s){"use strict";var a=s("d086"),n=s.n(a);n.a},"446f":function(t,e,s){"use strict";var a=s("0ddb"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=s("2b27"),i=s.n(n),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Main")],1)},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"main"}},[s("Message",{attrs:{message:t.message,level:t.level}}),s("Header",{attrs:{firstName:t.user?t.user.firstName:null,numItems:t.numItems,cartValue:t.cartValue},on:{jumpToPage:t.jumpToPage,logout:t.logout}}),s("div",{staticClass:"container mt-3"},["ProductList"===t.currentPage?s("ProductList",{attrs:{productList:t.productList},on:{jumpToPage:t.jumpToPage,message:t.handleMessage}}):t._e(),"Login"===t.currentPage?s("Login",{on:{jumpToPage:t.jumpToPage,clientLogin:t.clientLogin,message:t.handleMessage}}):t._e(),"Register"===t.currentPage?s("Register",{on:{jumpToPage:t.jumpToPage,clientLogin:t.clientLogin,message:t.handleMessage}}):t._e()],1)],1)},c=[],u=(s("ac1f"),s("1276"),s("bc3a")),m=s.n(u),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark",attrs:{role:"navigation"}},[s("div",{staticClass:"container"},[s("ul",{staticClass:"nav navbar-nav"},[s("a",{staticClass:"nav-link",on:{click:function(e){return t.jumpToPage("Home")}}},[t._v("Home")])]),s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.toggleNavbar}},[s("span",{staticClass:"navbar-toggler-icon"})]),s("div",{staticClass:"collapse navbar-collapse",class:{show:t.isNavOpen},attrs:{id:"navbarTop"}},[s("ul",{staticClass:"navbar-nav mr-auto"}),s("ul",{staticClass:"nav navbar-nav"},[null===t.firstName?s("a",{staticClass:"nav-link",on:{click:function(e){return t.jumpToPage("Login")}}},[t._v("Login")]):s("a",{staticClass:"nav-link",on:{click:t.logout}},[t._v("Logout "+t._s(t.firstName))]),s("button",{staticClass:"btn btn-success navbar-btn"},[t._v(" Checkout "),s("span",{staticClass:"badge badge-light"},[t._v(t._s(t.numItems)+" ($ "+t._s(t.cartValue)+")")])])])])])])},p=[],g={props:["firstName","numItems","cartValue"],data:function(){return{isNavOpen:!1,isLoggedIn:!1}},methods:{toggleNavbar:function(){this.isNavOpen=!this.isNavOpen},jumpToPage:function(t){this.$emit("jumpToPage",t)},logout:function(){this.$emit("logout")}}},f=g,h=(s("9748"),s("2877")),v=Object(h["a"])(f,d,p,!1,null,"18a24832",null),b=v.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:(t.showMessageBar?"":"d-none")+"  message-bar"},[s("div",{class:t.levelStyle},[s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeMessageBar}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),s("div",[t._v(t._s(this.message?this.message:"Unknown Error."))])])])},_=[],C={props:["level","message"],data:function(){return{showMessageBar:!1}},computed:{levelStyle:function(){return"col-12 panel panel-"+this.level+" "+(this.showMessageBar?"":"hidden")}},methods:{closeMessageBar:function(){this.showMessageBar=!1}},watch:{message:function(){this.showMessageBar=""!==this.message}}},P=C,k=(s("8cc5"),Object(h["a"])(P,w,_,!1,null,"79713b65",null)),L=k.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 offset-md-3 col-sm-12 offset-sm-1"},[s("form",{staticStyle:{display:"block"},attrs:{id:"login-form",role:"form"}},[s("h3",{staticClass:"text-center"},[t._v("Login")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",state:t.checkEmail,"lazy-formatter":""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:t.disableLogin},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v(" Log in "),t.isLoading?s("b-spinner",{attrs:{small:""}}):t._e()],1)]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"text-center"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.jumpToPage("Register")}}},[t._v("New user? Register")])])])])])])])])},j=[],N=(s("caad"),s("2532"),s("498a"),s("01e3")),T=s("6c27"),O={components:{"b-spinner":N["a"]},data:function(){return{email:"",password:"",isLoading:!1}},methods:{jumpToPage:function(t){this.$emit("jumpToPage",t)},login:function(){var t=this;this.isLoading=!0;var e=this,s={func_name:"select_online_client",func_argument:this.email};console.log(s),m.a.post("",JSON.stringify(s),{headers:{"Content-Type":"application/json"}}).catch((function(t){return e.$emit("message",t,"danger")})).then((function(s){if(console.log(s.data),s.data.returnValue&&""!==s.data.returnValue)if(s.data.returnValue.split("\n").length>2){var a=s.data.returnValue.split("\n")[1].split("|"),n={cid:a[0],firstName:a[1],lastName:a[2],email:a[3],phoneNumber:a[4],street:a[5],zip:a[6],city:a[7],state:a[8],cardNumber:a[9],accountNumber:a[10],password:a[11]};n.password.trim()===Object(T["sha256"])(t.password.trim())?(e.$emit("clientLogin",n),e.jumpToPage("Previous")):e.$emit("message","Password does not match.","danger")}else e.$emit("message","This Email address does not exist. Please register.","danger");else e.$emit("message",s.data.message,"danger");e.isLoading=!1}))}},computed:{disableLogin:function(){return this.isLoading||""===this.email||""===this.password},checkEmail:function(){return this.email.includes("@")}}},x=O,$=Object(h["a"])(x,y,j,!1,null,null,null),M=$.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 offset-md-3 col-sm-10 offset-sm-1"},[s("form",{attrs:{id:"register-form",role:"form"}},[s("h3",{staticClass:"text-center"},[t._v("Register")]),s("div",{staticClass:"form-group"},[s("b-form-input",{staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",state:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("div",{staticClass:"form-group"},[s("b-form-input",{staticClass:"form-control",attrs:{type:"text",name:"first-name",id:"first-name",placeholder:"First Name",state:t.checkFirst},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),s("div",{staticClass:"form-group"},[s("b-form-input",{staticClass:"form-control",attrs:{type:"text",name:"last-name",id:"last-name",placeholder:"Last Name",state:t.checkLast},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),s("div",{staticClass:"form-group"},[s("b-form-input",{staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password at least 6 characters",state:t.checkPassword},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.insertOnlineClient(e)}}},[t._v(" Register "),t.isLoading?s("b-spinner",{attrs:{small:""}}):t._e()],1)])])])])},E=[],I=s("4797"),V={components:{"b-form-input":I["a"],"b-spinner":N["a"]},data:function(){return{email:"",firstName:"",lastName:"",password:"",isLoading:!1,isChecking:!1}},methods:{checkInformation:function(){this.isChecking=!0;var t="";return this.checkEmail||(t+="Email Address not valid. "),this.checkFirst||(t+="First Name not empty. "),this.checkLast||(t+="Last Name not empty. "),this.checkPassword||(t+="Password at least 6 characters. "),""===t||(this.$emit("message",t,"danger"),!1)},jumpToPage:function(t){this.$emit("jumpToPage",t)},insertOnlineClient:function(){var t=this.checkInformation();if(t){this.isLoading=!0;var e=this,s={func_name:"insert_online_client",func_argument:this.firstName+"|"+this.lastName+"|"+this.email+"|"+Object(T["sha256"])(this.password)};console.log(JSON.stringify(s)),m.a.post("",JSON.stringify(s),{headers:{"Content-Type":"application/json"}}).catch((function(t){return e.$emit("message",t,"danger")})).then((function(t){if(console.log(t.data),t.data.message&&t.data.message.includes("duplicate key value violates unique constraint")?e.$emit("message","This Email address has been registered. Please log in.","danger"):e.$emit("message",t.data.message,"danger"),t.data.returnValue&&""!==t.data.returnValue){var s={cid:t.data.returnValue.split("\n")[1],firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:null,street:null,zip:null,city:null,state:null,cardNumber:null,accountNumber:null,password:e.password};e.$emit("clientLogin",s),e.jumpToPage("Previous")}e.isLoading=!1}))}}},computed:{checkEmail:function(){return this.isChecking?this.email.includes("@"):null},checkFirst:function(){return this.isChecking?""!==this.firstName:null},checkLast:function(){return this.isChecking?""!==this.lastName:null},checkPassword:function(){return this.isChecking?this.password.length>=6:null}}},R=V,B=Object(h["a"])(R,S,E,!1,null,null,null),J=B.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:{loadingItem:!t.productList}},[t.productList?t._e():s("div",{staticClass:"row text-center"},[s("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"success",label:"Large Spinner"}})],1),t.productList?s("div",{staticClass:"row"},t._l(t.productList,(function(t){return s("ProductItem",{key:t.pid,attrs:{item:t}})})),1):t._e()])},D=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-3 col-sm-6 col-md-4 item list-group-item"},[s("div",{staticClass:"thumbnail card"},[s("div",{staticClass:"img-event intrinsic"},[s("img",{staticClass:"grow thumbnail-image card-img-top intrinsic-item p-3",attrs:{src:t.item.image_url,alt:""}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.jumpToPage("Register")}}},[t._v(t._s(t.item.name))])]),s("h6",{staticClass:"card-subtitle mb-2 remain"},[t._v(t._s(t.item.item_left)+" left in stock")]),s("div",{staticClass:"row"},[s("p",{staticClass:"col-6 lead"},[t._v("$"+t._s(t.item.price))]),s("p",{staticClass:"col-6"},[s("button",{staticClass:"btn btn-success pull-right",attrs:{disabled:0===t.item.item_left},on:{click:t.addItem}},[t._v("Add to cart")])])])])])])},H=[],A={props:["item"],methods:{addItem:function(){},jumpToPage:function(t){}},filters:{shortDescription:function(t){return t&&t.length>100?t.substring(0,100)+"...":t}}},U=A,q=(s("446f"),Object(h["a"])(U,F,H,!1,null,"fd1bbd9c",null)),G=q.exports,K={props:["productList"],components:{ProductItem:G,"b-spinner":N["a"]},data:function(){return{item:{pid:"d",name:"d",price:"d",image_url:"https://www.pdfonline.com/corporate/newsletters/images/jpgtopdf.png",client_rating:"d",item_left:"d"},currentPage:"ProductList"}}},Q=K,W=(s("3b8c"),Object(h["a"])(Q,z,D,!1,null,null,null)),X=W.exports,Y={name:"Main",components:{Header:b,Message:L,Login:M,Register:J,ProductList:X},data:function(){return{currentPage:window.$cookies.get("currentPage")?window.$cookies.get("currentPage"):"ProductList",previousPage:null,isClient:!0,user:null,message:"",level:"",productList:null}},mounted:function(){this.getProductSummary()},methods:{handleMessage:function(t,e){this.message=t,this.level=e;var s=this;setTimeout((function(){s.message=""}),5e3)},jumpToPage:function(t){"Login"===t&&"Register"!==this.currentPage?this.previousPage=this.currentPage:"Previous"===t&&(t=this.previousPage),t&&"Home"!==t||(t=this.isClient?"ProductList":"Statistics"),window.$cookies.set("currentPage",t),this.currentPage=t},clientLogin:function(t){this.user=t},logout:function(){this.user=null,this.isClient=!0},getProductSummary:function(){var t=this,e={func_name:"product_summary",func_argument:""};m.a.post("",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){"Success"===e.data.message?t.productList=t.processProductList(e.data.returnValue):t.message=e.data.message})).catch((function(e){return t.message=e}))},processProductList:function(t){for(var e=t.split("\n"),s=e[0].split("|"),a=[],n=1;n<e.length;n++)if(e[n]&&""!==e[n]){for(var i={},r=e[n].split("|"),o=0;o<s.length;o++)i[s[o]]=r[o];i["item_left"]=1,a.push(i)}return a}},computed:{numItems:function(){return 1},cartValue:function(){return 1}}},Z=Y,tt=Object(h["a"])(Z,l,c,!1,null,null,null),et=tt.exports,st={components:{Main:et}},at=st,nt=Object(h["a"])(at,r,o,!1,null,null,null),it=nt.exports;s("a899");a["a"].config.productionTip=!1,m.a.defaults.baseURL="https://3zo4ophla5.execute-api.us-east-1.amazonaws.com/cs425project_v1",new a["a"]({render:function(t){return t(it)}}).$mount("#app"),a["a"].use(i.a),window.$cookies.config(900,"")},"8bd1":function(t,e,s){},"8cc5":function(t,e,s){"use strict";var a=s("8bd1"),n=s.n(a);n.a},9748:function(t,e,s){"use strict";var a=s("2e91"),n=s.n(a);n.a},a899:function(t,e,s){},d086:function(t,e,s){}});
//# sourceMappingURL=app.0f69622c.js.map