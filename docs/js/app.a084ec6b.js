(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},s={app:0},n=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/cs425project/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"02f2":function(t,e){},"0cb5":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("TODO")])},s=[];r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}))},"1c36":function(t,e,r){"use strict";var a=r("afcb"),s=r.n(a);s.a},"2c6d":function(t,e,r){"use strict";var a=r("3cea"),s=r.n(a);s.a},"3b8c":function(t,e,r){"use strict";var a=r("d086"),s=r.n(a);s.a},"3c15":function(t,e,r){"use strict";var a=r("fb75"),s=r("f3f8"),n=r("2877"),i=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,"71feec5a",null);e["default"]=i.exports},"3cea":function(t,e,r){},"466f":function(t,e,r){"use strict";var a=r("76c0"),s=r.n(a);e["default"]=s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=r("8c4f"),n=r("2b27"),i=r.n(n),o=r("2f62"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Main")],1)},l=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"main"}},[r("Message"),r("Header"),r("div",{staticClass:"container mt-3"},[r("router-view")],1)],1)},d=[],p=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),m=r("bc3a"),f=r.n(m),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark",attrs:{role:"navigation"}},[r("div",{staticClass:"container"},[r("ul",{staticClass:"nav navbar-nav"},[r("router-link",{staticClass:"navbar-brand mr-auto",attrs:{to:"/"}},[t._v("Online Store")])],1),r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.toggleNavbar}},[r("span",{staticClass:"navbar-toggler-icon"})]),r("div",{staticClass:"collapse navbar-collapse",class:{show:t.isNavOpen},attrs:{id:"navbarTop"}},[r("ul",{staticClass:"navbar-nav mr-auto"}),r("ul",{staticClass:"nav navbar-nav"},[null!==t.currentUser||t.isAdmin?t._e():r("router-link",{staticClass:"nav-item",attrs:{to:"/login"}},[r("a",{staticClass:"nav-link"},[t._v("Login")])]),null!==t.currentUser?r("li",{staticClass:"li-pointer nav-item"},[r("a",{staticClass:"nav-link",on:{click:t.logoutUser}},[t._v("Logout "+t._s(t.currentUser.firstName))])]):t._e(),t.isAdmin?r("li",{staticClass:"li-pointer nav-item"},[r("a",{staticClass:"nav-link",on:{click:t.logoutAdmin}},[t._v("Logout admin")])]):t._e(),r("li",[r("router-link",{staticClass:"btn btn-success navbar-btn",attrs:{to:"/shoppingcart",tag:"button"}},[t._v(" Checkout "),r("span",{staticClass:"badge badge-light"},[t._v(t._s(t.numItems)+" ($ "+t._s(t.cartValue.toFixed(2))+")")])])],1)],1)])])])},g=[];function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O={data:function(){return{isNavOpen:!1,isLoggedIn:!1}},methods:v({},Object(o["b"])(["removeCurrentUser","setAdmin"]),{toggleNavbar:function(){this.isNavOpen=!this.isNavOpen},logoutUser:function(){this.removeCurrentUser(),this.$router.push({name:"ProductList"})},logoutAdmin:function(){this.setAdmin(!1),this.$router.push({name:"ProductList"})}}),computed:v({},Object(o["c"])(["currentUser","isAdmin","numItems","cartValue"]))},y=O,w=(r("1c36"),r("2877")),C=Object(w["a"])(y,h,g,!1,null,"7be6978a",null),_=C.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:(t.showMessageBar?"":"d-none")+"  message-bar"},[r("div",{class:t.levelStyle},[r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeMessageBar}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),r("div",[t._v(t._s(this.messageGroup.message))])])])},P=[];function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E={data:function(){return{showMessageBar:!1}},computed:S({},Object(o["c"])(["messageGroup"]),{levelStyle:function(){return"col-12 panel panel-"+this.messageGroup.level+" "+(this.showMessageBar?"":"hidden")}}),methods:{closeMessageBar:function(){this.showMessageBar=!1}},watch:{messageGroup:function(){this.showMessageBar=!(""===this.messageGroup.message)}}},x=E,D=(r("2c6d"),Object(w["a"])(x,j,P,!1,null,"5b48fe23",null)),M=D.exports;function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var N={name:"Main",components:{Header:_,Message:M},mounted:function(){this.loadProductList(),window.$cookies.isKey("currentUser")&&this.setCurrentUser(window.$cookies.get("currentUser"))},methods:I({},Object(o["b"])(["loadProductList","setCurrentUser"]))},T=N,U=Object(w["a"])(T,u,d,!1,null,null,null),R=U.exports,$={components:{Main:R}},A=$,V=Object(w["a"])(A,c,l,!1,null,null,null),G=V.exports,F=(r("a899"),r("0d03"),r("acd8"),r("ac1f"),r("4d90"),r("1276"),{productList:{},messageGroup:{level:"",message:"",timeoutEvent:null},isAdmin:!1,currentUser:null,shoppingCart:{},numItems:0,cartValue:0}),J={productList:function(t){return t.productList},messageGroup:function(t){return t.messageGroup},isAdmin:function(t){return t.isAdmin},currentUser:function(t){return t.currentUser},numItems:function(t){return t.numItems},cartValue:function(t){return t.cartValue},shoppingCart:function(t){return t.shoppingCart},currentDate:function(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return a+"-"+r+"-"+e}},B={ADD_MESSAGE:function(t,e){var r=e.message,a=e.level;t.messageGroup={level:a,message:r},t.timeoutEvent&&clearTimeout(t.timeoutEvent),t.timeoutEvent=setTimeout((function(){t.messageGroup={level:"",message:""}}),5e3)},LOAD_PRODUCT_LIST:function(t,e){var r={func_name:"product_summary",func_argument:""};f.a.post("",JSON.stringify(r),{headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(r),"Success"===e.data.message){for(var a=e.data.returnValue.split("\n"),s=a[0].split("|"),n={},i=1;i<a.length;i++)if(a[i]&&""!==a[i]){for(var o={},c=a[i].split("|"),l=0;l<s.length;l++)o[s[l]]=c[l];o["price"]=parseFloat(o["price"].substring(1,o["price"].length)),n[o["pid"]]=o}t.productList=n}else addMessage({level:"danger",message:e.data.message})})).catch((function(t){return addMessage({level:"danger",message:t})}))},SET_ADMIN:function(t,e){t.isAdmin=e},SET_CURRENT_USER:function(t,e){t.currentUser=e,window.$cookies.set("currentUser",e)},REMOVE_CURRENT_USER:function(t){t.currentUser=null,t.shoppingCart=null,window.$cookies.remove("currentUser")},ADD_TO_CART:function(t,e){0===e.amount?delete t.shoppingCart[e.pid]:t.shoppingCart[e.pid]=e;var r=0,a=0;for(var s in t.shoppingCart)r+=t.shoppingCart[s].amount,a+=t.shoppingCart[s].amount*t.shoppingCart[s].price;t.numItems=r,t.cartValue=a},EMPTY_CART:function(t){t.shoppingCart={}}},z={addMessage:function(t,e){var r=t.commit;r("ADD_MESSAGE",e)},loadProductList:function(t){var e=t.commit;e("LOAD_PRODUCT_LIST")},setCurrentUser:function(t,e){var r=t.commit;r("SET_CURRENT_USER",e),r("SET_ADMIN",!1)},setAdmin:function(t,e){var r=t.commit;r("SET_ADMIN",e)},removeCurrentUser:function(t){var e=t.commit;e("REMOVE_CURRENT_USER")},addToChart:function(t,e){var r=t.commit;r("ADD_TO_CART",e)},emptyShoppingcart:function(t){var e=t.commit;e("EMPTY_CART")}},Y={state:F,getters:J,actions:z,mutations:B},H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container",class:{loadingItem:!t.productList}},[t.productList?t._e():r("div",{staticClass:"row text-center"},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"success",label:"Large Spinner"}})],1),t.productList?r("div",{staticClass:"row"},t._l(t.productList,(function(e){return r("ProductItem",{key:e.pid,attrs:{item:e},on:{amountChanged:t.amountChanged}})})),1):t._e()])},W=[],q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-3 col-sm-6 col-md-4 item list-group-item"},[r("div",{staticClass:"thumbnail card"},[r("div",{staticClass:"img-event intrinsic"},[r("img",{staticClass:"grow thumbnail-image card-img-top intrinsic-item p-3",attrs:{src:t.item.image_url,alt:""}})]),r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[r("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.jumpToPage("Register")}}},[t._v(t._s(t.item.name))])]),r("h6",{staticClass:"card-subtitle mb-2 remain"},[t._v(t._s(t.item.item_left)+" left in stock")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-9 lead"},[t._v("$"+t._s(t.item.price))]),r("div",{staticClass:"additem"},[r("b-input-group",{staticClass:"pull-right"},[r("b-input-group-prepend",[r("b-button",{attrs:{variant:"success"},on:{click:t.removeItem}},[t._v("-")])],1),r("b-form-input",{attrs:{type:"text",number:!0},on:{change:t.amountChanged},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"success"},on:{click:t.addItem}},[t._v("+")])],1)],1)],1)])])])])},K=[],Q=r("5e12"),X=r("ccc0"),Z=r("3656"),tt=r("1947"),et=r("4797"),rt={props:["item"],data:function(){return{amount:0}},components:{"b-input-group":Q["a"],"b-input-group-append":X["a"],"b-input-group-prepend":Z["a"],"b-button":tt["a"],"b-form-input":et["a"]},methods:{amountChanged:function(){this.$emit("amountChanged",this.item,this.amount)},addItem:function(){this.amount>=9999?this.amount=9999:this.amount+=1,this.amountChanged()},removeItem:function(){this.amount<=0?this.amount=0:this.amount-=1,this.amountChanged()}}},at=rt,st=(r("b702"),Object(w["a"])(at,q,K,!1,null,"d141c026",null)),nt=st.exports,it=r("01e3");function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var lt={components:{ProductItem:nt,"b-spinner":it["a"]},data:function(){return{shoppingCart:null}},methods:ct({},Object(o["b"])(["addToChart"]),{amountChanged:function(t,e){var r=Object.assign({},t);r.amount=e,this.addToChart(r)}}),computed:ct({},Object(o["c"])(["productList"]))},ut=lt,dt=(r("3b8c"),Object(w["a"])(ut,H,W,!1,null,null,null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container table-responsive"},[r("table",{staticClass:"table table-hover",attrs:{id:"cart"}},[r("thead",[r("tr",[r("th",{staticStyle:{width:"50%"}},[t._v("Product")]),r("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Price")]),r("th",{staticClass:"text-center",staticStyle:{width:"12%"},style:"min-width:80px"},[t._v("Amount")]),r("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Subtotal")]),r("th",{staticStyle:{width:"3%"}})])]),r("transition-group",{attrs:{tag:"tbody"}},t._l(t.shoppingCart,(function(t){return r("CartItem",{key:t.pid,attrs:{cartItem:t}})})),1),r("tfoot",[r("tr",{staticClass:"d-table-row d-sm-none"},[r("td",{staticClass:"text-center"},[r("strong",[t._v("Total $"+t._s(t.cartValue.toFixed(2)))])])]),r("tr",[r("td",[r("router-link",{staticClass:"btn btn-warning",attrs:{to:"/"}},[r("span",{staticClass:"text-nowrap"},[t._v("< Continue Shopping")])])],1),r("td",{staticClass:"d-none d-sm-table-cell",attrs:{colspan:"2"}}),r("td",{staticClass:"d-none d-sm-table-cell text-center"},[r("strong",[t._v("Total $"+t._s(t.cartValue.toFixed(2)))])]),r("td",{staticClass:"px-0"},[r("button",{staticClass:"btn btn-success",on:{click:t.checkout}},[r("span",{staticClass:"text-nowrap"},[t._v("Checkout >")])])])])])],1)])},ft=[],ht=(r("b0c0"),r("4fad"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",{attrs:{"data-th":"Product"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2 d-none d-sm-block"},[r("img",{staticClass:"img-fluid",attrs:{src:t.cartItem.image_url,alt:"..."}})]),r("div",{staticClass:"col-sm-10"},[r("h6",{staticClass:"nomargin"},[t._v(t._s(t.cartItem.name))])])])]),r("td",{staticClass:"text-center",attrs:{"data-th":"Price"}},[t._v("$"+t._s(t.cartItem.price))]),r("td",{attrs:{"data-th":"Amount"}},[r("b-form-input",{attrs:{type:"number",number:!0,min:"0",max:"9999"},on:{change:t.amountChanged},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),r("td",{staticClass:"text-center",attrs:{"data-th":"Subtotal"}},[t._v("$"+t._s(t.subtotal.toFixed(2)))]),r("td",{staticClass:"actions",attrs:{"data-th":""}},[r("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.removeItem}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])}),gt=[];function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ot={props:["cartItem"],components:{"b-form-input":et["a"]},data:function(){return{amount:this.cartItem.amount}},methods:vt({},Object(o["b"])(["addToChart"]),{amountChanged:function(){this.cartItem.amount=this.amount,this.addToChart(this.cartItem)},removeItem:function(){this.amount=0,this.amountChanged()}}),computed:{subtotal:function(){return this.amount*this.cartItem.price}}},yt=Ot,wt=Object(w["a"])(yt,ht,gt,!1,null,null,null),Ct=wt.exports;function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Pt={components:{CartItem:Ct},computed:jt({},Object(o["c"])(["shoppingCart","productList","currentUser","cartValue","currentDate"])),methods:jt({},Object(o["b"])(["addMessage","emptyShoppingcart","loadProductList"]),{checkout:function(){this.currentUser?""===this.checkValidCart()&&""===this.checkValidInfo()&&this.insert_order_online():this.addMessage({level:"warning",message:"Please login to checkout"})},checkValidCart:function(){var t="";if(0===Object.entries(this.shoppingCart).length&&this.shoppingCart.constructor===Object)t="Your cart is empty!",this.addMessage({level:"warning",message:t});else{for(var e in this.shoppingCart)this.shoppingCart[e].amount>this.shoppingCart[e].item_left&&(t+="Only "+this.shoppingCart[e].item_left+" '"+this.shoppingCart[e].name+"' available in stock; ");this.addMessage({level:"danger",message:t})}return t},checkValidInfo:function(){return""},insert_order_online:function(){var t=this,e="",r=Math.floor(1e9*Math.random()+1);for(var a in this.shoppingCart)e+=this.currentUser.cid+"|"+this.shoppingCart[a].default_wid+"|"+a+"|"+this.shoppingCart[a].amount+"|"+this.currentDate+"|"+r,e+="||";e=e.substring(0,e.length-2);var s={func_name:"insert_order_online",func_argument:e},n=this;f.a.post("",JSON.stringify(s),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(s),"Success"===e.data.message?(n.addMessage({level:"success",message:"Your order has been successfully processed!"}),n.loadProductList(),n.emptyShoppingcart(),t.$router.push({name:"MyOrder"})):n.addMessage({level:"danger",message:e.data.message})})).catch((function(t){n.addMessage({level:"danger",message:t})}))}})},kt=Pt,St=Object(w["a"])(kt,mt,ft,!1,null,null,null),Et=St.exports,xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container table-responsive"},[r("table",{staticClass:"table table-hover table-sm",attrs:{id:"cart"}},[t._m(0),t._l(t.OrderList,(function(e){return r("OrderItem",{key:e.pid+e.tracking_number,attrs:{orderItem:e},on:{submitted:t.loadMyOrder}})}))],2)])},Dt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{staticStyle:{width:"50%"}},[t._v("Product")]),r("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Price")]),r("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Amount")]),r("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Date")]),r("th",{staticClass:"text-center",staticStyle:{width:"12%"}},[t._v("Tracking#")]),r("th",{staticClass:"text-center",staticStyle:{width:"8%"}},[t._v("Review")])])])}],Mt=(r("e25e"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tbody",[r("tr",[r("td",{attrs:{"data-th":"Product"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2 d-none d-sm-block"},[r("img",{staticClass:"img-fluid",attrs:{src:t.orderItem.image_url,alt:"..."}})]),r("div",{staticClass:"col-sm-10"},[r("h6",{staticClass:"nomargin"},[t._v(t._s(t.orderItem.name))])])])]),r("td",{staticClass:"text-center",attrs:{"data-th":"Price"}},[t._v("$"+t._s(t.orderItem.price))]),r("td",{staticClass:"text-center",attrs:{"data-th":"Amount"}},[t._v(t._s(t.orderItem.amount))]),r("td",{staticClass:"text-center",attrs:{"data-th":"Date"}},[t._v(t._s(t.orderItem.date))]),r("td",{staticClass:"text-center",attrs:{"data-th":"tracking_number"}},[t._v(t._s(t.orderItem.tracking_number))]),r("td",{staticClass:"actions text-center",attrs:{"data-th":""}},[r("button",{staticClass:"btn btn-sm",on:{click:t.writeReview}},[t.orderItem.rating?t._e():r("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),t.orderItem.rating?r("font-awesome-icon",{attrs:{icon:"eye"}}):t._e()],1)])]),t.showReview?r("tr",[r("td",{staticClass:"text-center",attrs:{colspan:"3","data-th":"review"}},[r("b-form-input",{attrs:{type:"text"},model:{value:t.review,callback:function(e){t.review=e},expression:"review"}})],1),r("td",{staticClass:"text-center",attrs:{colspan:"2","data-th":"rating"}},[r("star-rating",{attrs:{"show-rating":!1,"star-size":24},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),r("td",{attrs:{"data-th":"submit"}},[r("button",{staticClass:"btn btn-success btn-sm",attrs:{disabled:!t.submitActive},on:{click:t.submitReview}},[t._v("Submit")])])]):t._e()])}),Lt=[],It=r("c1da"),Nt=r.n(It);function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Rt={props:["orderItem"],components:{"b-form-input":et["a"],"star-rating":Nt.a},data:function(){return{showReview:!1,rating:this.orderItem.rating,review:this.orderItem.review}},methods:Ut({},Object(o["b"])(["addMessage"]),{writeReview:function(){this.showReview=!this.showReview},submitReview:function(){var t=this.orderItem.oid+"|"+this.rating+"|"+this.review,e={func_name:"review_order",func_argument:t},r=this;f.a.post("",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(e),"Success"===t.data.message?(r.addMessage({level:"success",message:"Your review has been successfully submitted!"}),r.$emit("submitted")):r.addMessage({level:"danger",message:t.data.message})})).catch((function(t){r.addMessage({level:"danger",message:t})})),this.showReview=!1}}),computed:{submitActive:function(){return this.rating&&this.review}}},$t=Rt,At=Object(w["a"])($t,Mt,Lt,!1,null,null,null),Vt=At.exports;function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Jt={name:"MyOrder",components:{OrderItem:Vt},mounted:function(){this.loadMyOrder()},data:function(){return{OrderList:[]}},computed:Ft({},Object(o["c"])(["currentUser","productList"])),methods:Ft({},Object(o["b"])(["addMessage"]),{loadMyOrder:function(){if(this.currentUser&&(0!==Object.entries(this.productList).length||this.productList.constructor!==Object)){var t={func_name:"select_order_online",func_argument:this.currentUser.cid},e=this;f.a.post("",JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(r){console.log(t),"Success"===r.data.message?e.processResponse(r.data.returnValue):e.addMessage({level:"danger",message:r.data.message})})).catch((function(t){e.addMessage({level:"danger",message:t})}))}},processResponse:function(t){for(var e=t.split("\n"),r=[],a=1;a<e.length;a++)if(e[a]&&""!==e[a]){var s={},n=e[a].split("|");s.oid=parseInt(n[0]),s.pid=parseInt(n[3]),s.amount=parseInt(n[4]),s.date=n[5],s.tracking_number=n[6],s.rating="null"===n[7]?null:parseInt(n[7]),s.review="null"===n[8]?null:n[8],s.name=this.productList[s.pid].name,s.price=this.productList[s.pid].price,s.image_url=this.productList[s.pid].image_url,r.push(s)}this.OrderList=r}}),watch:{currentUser:function(){this.loadMyOrder()},productList:function(){this.loadMyOrder()}}},Bt=Jt,zt=Object(w["a"])(Bt,xt,Dt,!1,null,null,null),Yt=zt.exports,Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 offset-md-3 col-sm-12 offset-sm-1"},[r("form",{staticStyle:{display:"block"},attrs:{id:"login-form",role:"form"}},[r("h3",{staticClass:"text-center"},[t._v("Login")]),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",state:t.checkEmail,"lazy-formatter":""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:t.disableLogin},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v(" Log in "),t.isLoading?r("b-spinner",{attrs:{small:""}}):t._e()],1)]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"text-center"},[r("router-link",{attrs:{to:"/register"}},[r("a",[t._v("New user? Register")])])],1)])])])])])])},Wt=[],qt=(r("caad"),r("2532"),r("498a"),r("6c27"));function Kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kt(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Xt={components:{"b-spinner":it["a"]},data:function(){return{email:"",password:"",isLoading:!1}},methods:Qt({},Object(o["b"])(["addMessage","setCurrentUser","setAdmin"]),{login:function(){var t=this;this.isLoading=!0;var e=this,r={func_name:"select_online_client",func_argument:this.email};if("admin"===this.email&&"admin"===this.password)return this.setAdmin(!0),void this.$router.push({name:"Statistics"});console.log(r),f.a.post("",JSON.stringify(r),{headers:{"Content-Type":"application/json"}}).catch((function(t){e.addMessage({level:"danger",message:t})})).then((function(r){if(console.log(r.data),r.data.returnValue&&""!==r.data.returnValue)if(r.data.returnValue.split("\n").length>2){var a=r.data.returnValue.split("\n")[1].split("|"),s={cid:a[0],firstName:a[1],lastName:a[2],email:a[3],phoneNumber:a[4],street:a[5],zip:a[6],city:a[7],state:a[8],cardNumber:a[9],accountNumber:a[10],password:a[11]};s.password.trim()===Object(qt["sha256"])(t.password.trim())?(e.setCurrentUser(s),e.$router.push({name:"ProductList"})):e.addMessage({level:"danger",message:"Password does not match."})}else e.addMessage({level:"danger",message:"This Email address does not exist. Please register."});else e.addMessage({level:"danger",message:r.data.message});e.isLoading=!1}))}}),computed:{disableLogin:function(){return this.isLoading||""===this.email||""===this.password},checkEmail:function(){return this.email.includes("@")}}},Zt=Xt,te=Object(w["a"])(Zt,Ht,Wt,!1,null,null,null),ee=te.exports,re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 offset-md-3 col-sm-10 offset-sm-1"},[r("form",{attrs:{id:"register-form",role:"form"}},[r("h3",{staticClass:"text-center"},[t._v("Register")]),r("div",{staticClass:"form-group"},[r("b-form-input",{staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",state:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),r("div",{staticClass:"form-group"},[r("b-form-input",{staticClass:"form-control",attrs:{type:"text",name:"first-name",id:"first-name",placeholder:"First Name",state:t.checkFirst},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),r("div",{staticClass:"form-group"},[r("b-form-input",{staticClass:"form-control",attrs:{type:"text",name:"last-name",id:"last-name",placeholder:"Last Name",state:t.checkLast},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),r("div",{staticClass:"form-group"},[r("b-form-input",{staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password at least 6 characters",state:t.checkPassword},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.insertOnlineClient(e)}}},[t._v(" Register "),t.isLoading?r("b-spinner",{attrs:{small:""}}):t._e()],1)])])])])},ae=[];function se(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?se(r,!0).forEach((function(e){Object(p["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):se(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ie={components:{"b-form-input":et["a"],"b-spinner":it["a"]},data:function(){return{email:"",firstName:"",lastName:"",password:"",isLoading:!1,isChecking:!1}},methods:ne({},Object(o["b"])(["addMessage","setCurrentUser"]),{checkInformation:function(){this.isChecking=!0;var t="";return this.checkEmail||(t+="Email Address not valid. "),this.checkFirst||(t+="First Name not empty. "),this.checkLast||(t+="Last Name not empty. "),this.checkPassword||(t+="Password at least 6 characters. "),""===t||(this.addMessage({level:"danger",message:t}),!1)},insertOnlineClient:function(){var t=this.checkInformation();if(t){this.isLoading=!0;var e=this,r={func_name:"insert_online_client",func_argument:this.firstName+"|"+this.lastName+"|"+this.email+"|"+Object(qt["sha256"])(this.password)};console.log(JSON.stringify(r)),f.a.post("",JSON.stringify(r),{headers:{"Content-Type":"application/json"}}).catch((function(t){e.addMessage({level:"danger",message:t})})).then((function(t){if(console.log(t.data),t.data.message&&t.data.message.includes("duplicate key value violates unique constraint"))e.addMessage({level:"danger",message:"This Email address has been registered. Please log in."});else if(t.data.returnValue&&""!==t.data.returnValue){var r={cid:t.data.returnValue.split("\n")[1],firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:null,street:null,zip:null,city:null,state:null,cardNumber:null,accountNumber:null,password:e.password};e.setCurrentUser(r),e.$router.push({name:"ProductList"}),e.addMessage({level:"success",message:"Successfully registered."})}else e.addMessage({level:"danger",message:t.data.message});e.isLoading=!1}))}}}),computed:{checkEmail:function(){return this.isChecking?this.email.includes("@"):null},checkFirst:function(){return this.isChecking?""!==this.firstName:null},checkLast:function(){return this.isChecking?""!==this.lastName:null},checkPassword:function(){return this.isChecking?this.password.length>=6:null}}},oe=ie,ce=Object(w["a"])(oe,re,ae,!1,null,null,null),le=ce.exports,ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v(" Statistics TODO ")])},de=[],pe={},me=Object(w["a"])(pe,ue,de,!1,null,null,null),fe=me.exports,he=r("3c15"),ge=r("7214"),be=r("7cef"),ve=r("ec71"),Oe=[{path:"/",component:pt,name:"ProductList"},{path:"/login",component:ee,name:"Login"},{path:"/register",component:le,name:"Register"},{path:"/shoppingcart",component:Et,name:"ShoppingCart"},{path:"/myorder",component:Yt,name:"MyOrder"},{path:"/statistics",component:fe,name:"Statistics"},{path:"/replenish-store",component:he["default"],name:"ReplenishStore"},{path:"/replenish-warehouse",component:ge["default"],name:"ReplenishWarehouse"},{path:"/warehouse",component:be["default"],name:"Warehouse"},{path:"/store",component:ve["default"],name:"Store"},{path:"*",redirect:"/"}],ye=r("ecee"),we=r("c074"),Ce=r("ad3d");ye["c"].add(we["c"],we["b"],we["a"]),a["a"].component("font-awesome-icon",Ce["a"]),a["a"].use(s["a"]),a["a"].use(i.a),a["a"].use(o["a"]),f.a.defaults.baseURL="https://3zo4ophla5.execute-api.us-east-1.amazonaws.com/cs425project_v1";var _e=new s["a"]({mode:"history",routes:Oe}),je=new o["a"].Store({modules:{global:Y}});new a["a"]({router:_e,store:je,render:function(t){return t(G)}}).$mount("#app"),window.$cookies.config(900,"")},7214:function(t,e,r){"use strict";var a=r("0cb5"),s=r("466f"),n=r("2877"),i=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,"5a0ada88",null);e["default"]=i.exports},"76c0":function(t,e){},"7cef":function(t,e,r){"use strict";var a=r("b4b8"),s=r("b1ff"),n=r("2877"),i=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,"15be5e1c",null);e["default"]=i.exports},"889a":function(t,e){},"93a7":function(t,e,r){},"9a1e":function(t,e){},a899:function(t,e,r){},accf:function(t,e,r){"use strict";var a=r("02f2"),s=r.n(a);e["default"]=s.a},afcb:function(t,e,r){},b1ff:function(t,e,r){"use strict";var a=r("889a"),s=r.n(a);e["default"]=s.a},b4b8:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("TODO")])},s=[];r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}))},b575:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("TODO")])},s=[];r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}))},b702:function(t,e,r){"use strict";var a=r("93a7"),s=r.n(a);s.a},d086:function(t,e,r){},ec71:function(t,e,r){"use strict";var a=r("b575"),s=r("accf"),n=r("2877"),i=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,"04753a4c",null);e["default"]=i.exports},f3f8:function(t,e,r){"use strict";var a=r("9a1e"),s=r.n(a);e["default"]=s.a},fb75:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("TODO")])},s=[];r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}))}});
//# sourceMappingURL=app.a084ec6b.js.map