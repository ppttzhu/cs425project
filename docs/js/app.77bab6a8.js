(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/cs425project/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1c36":function(t,e,a){"use strict";var s=a("afcb"),r=a.n(s);r.a},"2c6d":function(t,e,a){"use strict";var s=a("3cea"),r=a.n(s);r.a},3676:function(t,e,a){"use strict";var s=a("4dfc"),r=a.n(s);r.a},"3b8c":function(t,e,a){"use strict";var s=a("d086"),r=a.n(s);r.a},"3cea":function(t,e,a){},"4dfc":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=a("8c4f"),n=a("2b27"),i=a.n(n),o=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Main")],1)},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("Message"),a("Header"),a("div",{staticClass:"container mt-3"},[a("router-view")],1)],1)},d=[],p=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("2fa7")),m=a("bc3a"),f=a.n(m),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark",attrs:{role:"navigation"}},[a("div",{staticClass:"container"},[a("ul",{staticClass:"nav navbar-nav"},[a("router-link",{staticClass:"navbar-brand mr-auto",attrs:{to:"/"}},[t._v("Online Store")])],1),a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.toggleNavbar}},[a("span",{staticClass:"navbar-toggler-icon"})]),a("div",{staticClass:"collapse navbar-collapse",class:{show:t.isNavOpen},attrs:{id:"navbarTop"}},[a("ul",{staticClass:"navbar-nav mr-auto"}),a("ul",{staticClass:"nav navbar-nav"},[null!==t.currentUser||t.isAdmin?t._e():a("router-link",{staticClass:"nav-item",attrs:{to:"/login"}},[a("a",{staticClass:"nav-link"},[t._v("Login")])]),null!==t.currentUser?a("li",{staticClass:"li-pointer nav-item"},[a("a",{staticClass:"nav-link",on:{click:t.logoutUser}},[t._v("Logout "+t._s(t.currentUser.firstName))])]):t._e(),t.isAdmin?a("li",{staticClass:"li-pointer nav-item"},[a("a",{staticClass:"nav-link",on:{click:t.logoutAdmin}},[t._v("Logout admin")])]):t._e(),a("li",[a("router-link",{staticClass:"btn btn-success navbar-btn",attrs:{to:"/shoppingcart",tag:"button"}},[t._v(" Checkout "),a("span",{staticClass:"badge badge-light"},[t._v(t._s(t.numItems)+" ($ "+t._s(t.cartValue.toFixed(2))+")")])])],1)],1)])])])},h=[];function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var O={data:function(){return{isNavOpen:!1,isLoggedIn:!1}},methods:v({},Object(o["b"])(["removeCurrentUser","setAdmin"]),{toggleNavbar:function(){this.isNavOpen=!this.isNavOpen},logoutUser:function(){this.removeCurrentUser(),this.$router.push({name:"ProductList"})},logoutAdmin:function(){this.setAdmin(!1),this.$router.push({name:"ProductList"})}}),computed:v({},Object(o["c"])(["currentUser","isAdmin","numItems","cartValue"]))},y=O,C=(a("1c36"),a("2877")),w=Object(C["a"])(y,g,h,!1,null,"7be6978a",null),_=w.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:(t.showMessageBar?"":"d-none")+"  message-bar"},[a("div",{class:t.levelStyle},[a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeMessageBar}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),a("div",[t._v(t._s(this.messageGroup.message))])])])},P=[];function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var E={data:function(){return{showMessageBar:!1}},computed:S({},Object(o["c"])(["messageGroup"]),{levelStyle:function(){return"col-12 panel panel-"+this.messageGroup.level+" "+(this.showMessageBar?"":"hidden")}}),methods:{closeMessageBar:function(){this.showMessageBar=!1}},watch:{messageGroup:function(){this.showMessageBar=!(""===this.messageGroup.message)}}},L=E,D=(a("2c6d"),Object(C["a"])(L,j,P,!1,null,"5b48fe23",null)),I=D.exports;function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var M={name:"Main",components:{Header:_,Message:I},mounted:function(){this.loadProductList()},methods:x({},Object(o["b"])(["loadProductList"]))},T=M,U=Object(C["a"])(T,u,d,!1,null,null,null),A=U.exports,$={components:{Main:A}},V=$,R=Object(C["a"])(V,c,l,!1,null,null,null),G=R.exports,F=(a("a899"),a("acd8"),a("ac1f"),a("1276"),{productList:null,messageGroup:{level:"",message:"",timeoutEvent:null},isAdmin:!1,currentUser:null,shoppingCart:{},numItems:0,cartValue:0}),B={productList:function(t){return t.productList},messageGroup:function(t){return t.messageGroup},isAdmin:function(t){return t.isAdmin},currentUser:function(t){return t.currentUser},numItems:function(t){return t.numItems},cartValue:function(t){return t.cartValue},shoppingCart:function(t){return t.shoppingCart}},J={ADD_MESSAGE:function(t,e){var a=e.message,s=e.level;t.messageGroup={level:s,message:a},t.timeoutEvent&&clearTimeout(t.timeoutEvent),t.timeoutEvent=setTimeout((function(){t.messageGroup={level:"",message:""}}),5e3)},LOAD_PRODUCT_LIST:function(t,e){var a={func_name:"product_summary",func_argument:""};f.a.post("",JSON.stringify(a),{headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(a),"Success"===e.data.message){for(var s=e.data.returnValue.split("\n"),r=s[0].split("|"),n=[],i=1;i<s.length;i++)if(s[i]&&""!==s[i]){for(var o={},c=s[i].split("|"),l=0;l<r.length;l++)o[r[l]]=c[l];o["item_left"]=1,o["price"]=parseFloat(o["price"].substring(1,o["price"].length)),n.push(o)}t.productList=n}else addMessage({level:"danger",message:e.data.message})})).catch((function(t){return addMessage({level:"danger",message:t})}))},SET_ADMIN:function(t,e){t.isAdmin=e},SET_CURRENT_USER:function(t,e){t.currentUser=e},REMOVE_CURRENT_USER:function(t){t.currentUser=null,t.shoppingCart=null},ADD_TO_CART:function(t,e){0===e.amount?delete t.shoppingCart[e.pid]:t.shoppingCart[e.pid]=e;var a=0,s=0;for(var r in t.shoppingCart)a+=t.shoppingCart[r].amount,s+=t.shoppingCart[r].amount*t.shoppingCart[r].price;t.numItems=a,t.cartValue=s}},z={addMessage:function(t,e){var a=t.commit;a("ADD_MESSAGE",e)},loadProductList:function(t){var e=t.commit;e("LOAD_PRODUCT_LIST")},setCurrentUser:function(t,e){var a=t.commit;a("SET_CURRENT_USER",e),a("SET_ADMIN",!1)},setAdmin:function(t,e){var a=t.commit;a("SET_ADMIN",e)},removeCurrentUser:function(t){var e=t.commit;e("REMOVE_CURRENT_USER")},addToChart:function(t,e){var a=t.commit;a("ADD_TO_CART",e)}},q={state:F,getters:B,actions:z,mutations:J},Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",class:{loadingItem:!t.productList}},[t.productList?t._e():a("div",{staticClass:"row text-center"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"success",label:"Large Spinner"}})],1),t.productList?a("div",{staticClass:"row"},t._l(t.productList,(function(e){return a("ProductItem",{key:e.pid,attrs:{item:e},on:{amountChanged:t.amountChanged}})})),1):t._e()])},H=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3 col-sm-6 col-md-4 item list-group-item"},[a("div",{staticClass:"thumbnail card"},[a("div",{staticClass:"img-event intrinsic"},[a("img",{staticClass:"grow thumbnail-image card-img-top intrinsic-item p-3",attrs:{src:t.item.image_url,alt:""}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.jumpToPage("Register")}}},[t._v(t._s(t.item.name))])]),a("h6",{staticClass:"card-subtitle mb-2 remain"},[t._v(t._s(t.item.item_left)+" left in stock")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-9 lead"},[t._v("$"+t._s(t.item.price))]),a("div",{staticClass:"additem"},[a("b-input-group",{staticClass:"pull-right"},[a("b-input-group-prepend",[a("b-button",{attrs:{variant:"success"},on:{click:t.removeItem}},[t._v("-")])],1),a("b-form-input",{attrs:{type:"text",number:!0},on:{change:t.amountChanged},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"success"},on:{click:t.addItem}},[t._v("+")])],1)],1)],1)])])])])},Q=[],W=a("5e12"),X=a("ccc0"),Z=a("3656"),tt=a("1947"),et=a("4797"),at={props:["item"],data:function(){return{amount:0}},components:{"b-input-group":W["a"],"b-input-group-append":X["a"],"b-input-group-prepend":Z["a"],"b-button":tt["a"],"b-form-input":et["a"]},methods:{amountChanged:function(){this.$emit("amountChanged",this.item,this.amount)},addItem:function(){this.amount>=9999?this.amount=9999:this.amount+=1,this.amountChanged()},removeItem:function(){this.amount<=0?this.amount=0:this.amount-=1,this.amountChanged()}}},st=at,rt=(a("b702"),Object(C["a"])(st,K,Q,!1,null,"d141c026",null)),nt=rt.exports,it=a("01e3");function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function ct(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var lt={components:{ProductItem:nt,"b-spinner":it["a"]},data:function(){return{shoppingCart:null}},methods:ct({},Object(o["b"])(["addToChart"]),{amountChanged:function(t,e){var a=Object.assign({},t);a.amount=e,this.addToChart(a)}}),computed:ct({},Object(o["c"])(["productList"]))},ut=lt,dt=(a("3b8c"),Object(C["a"])(ut,Y,H,!1,null,null,null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container table-responsive"},[a("table",{staticClass:"table table-hover table-sm",attrs:{id:"cart"}},[t._m(0),a("transition-group",{attrs:{name:"list-shopping-cart",tag:"tbody"}},t._l(t.shoppingCart,(function(t){return a("CartItem",{key:t.pid,attrs:{cartItem:t}})})),1),a("tfoot",[a("tr",{staticClass:"d-table-row d-sm-none"},[a("td",{staticClass:"text-center"},[a("strong",[t._v("Total $"+t._s(t.cartValue.toFixed(2)))])])]),a("tr",[a("td",[a("router-link",{staticClass:"btn btn-warning",attrs:{to:"/"}},[a("span",{staticClass:"text-nowrap"},[t._v("< Continue Shopping")])])],1),a("td",{staticClass:"d-none d-sm-table-cell",attrs:{colspan:"2"}}),a("td",{staticClass:"d-none d-sm-table-cell text-center"},[a("strong",[t._v("Total $"+t._s(t.cartValue))])]),a("td",{staticClass:"px-0"},[a("button",{staticClass:"btn btn-success",on:{click:t.checkout}},[a("span",{staticClass:"text-nowrap"},[t._v("Checkout >")])])])])])],1)])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"50%"}},[t._v("Product")]),a("th",{staticStyle:{width:"10%"}},[t._v("Price")]),a("th",{staticStyle:{width:"12%"}},[t._v("Amount")]),a("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Subtotal")]),a("th",{staticStyle:{width:"8%"}})])])}],gt=(a("99af"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{"data-th":"Product"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 d-none d-sm-block"},[a("img",{staticClass:"img-fluid",attrs:{src:t.cartItem.image_url,alt:"..."}})]),a("div",{staticClass:"col-sm-10"},[a("h6",{staticClass:"nomargin"},[t._v(t._s(t.cartItem.name))])])])]),a("td",{attrs:{"data-th":"Price"}},[t._v("$"+t._s(t.cartItem.price))]),a("td",{attrs:{"data-th":"Amount"}},[a("div",{staticClass:"additem"},[a("b-input-group",{staticClass:"pull-right"},[a("b-input-group-prepend",[a("b-button",{attrs:{variant:"success"},on:{click:t.deleteItem}},[t._v("-")])],1),a("b-form-input",{attrs:{type:"text",number:!0},on:{change:t.amountChanged},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"success"},on:{click:t.addItem}},[t._v("+")])],1)],1)],1)]),a("td",{staticClass:"text-center",attrs:{"data-th":"Subtotal"}},[t._v("$"+t._s(t.subtotal.toFixed(2)))]),a("td",{staticClass:"actions",attrs:{"data-th":""}},[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.removeItem}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])}),ht=[];function bt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function vt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?bt(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ot={props:["cartItem"],components:{"b-input-group":W["a"],"b-input-group-append":X["a"],"b-input-group-prepend":Z["a"],"b-button":tt["a"],"b-form-input":et["a"]},data:function(){return{amount:this.cartItem.amount}},methods:vt({},Object(o["b"])(["addToChart"]),{amountChanged:function(){this.cartItem.amount=this.amount,this.addToChart(this.cartItem)},addItem:function(){this.amount>=9999?this.amount=9999:this.amount+=1,this.amountChanged()},deleteItem:function(){this.amount<=0?this.amount=0:this.amount-=1,this.amountChanged()},removeItem:function(){this.amount=0,this.amountChanged()}}),computed:{subtotal:function(){return this.amount*this.cartItem.price}}},yt=Ot,Ct=Object(C["a"])(yt,gt,ht,!1,null,null,null),wt=Ct.exports;function _t(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function jt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_t(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_t(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Pt={components:{CartItem:wt},computed:jt({},Object(o["c"])(["shoppingCart","productList","currentUser","cartValue"])),methods:jt({},Object(o["b"])(["addMessage"]),{checkValidCart:function(t,e){var a=!0,s="";return t.map((function(t){for(var r=0;r<e.length;r++)if(e[r].id==t.id){if(e[r].quantity<t.quantity)return s="Only ".concat(e[r].quantity," ").concat(t.title," available in stock"),void(a=!1);break}})),{isValid:a,message:s}},saveShoppingCartLocal:function(){var t=this;if(this.isLoggedIn){var e=this.checkValidCart(this.cartItemList,this.products),a=e.isValid,s=e.message;a?this.saveShoppingCart({cartItemList:this.cartItemList,uid:this.currentUser.uid}).then((function(){t.addMessage({level:"success",message:"Your shopping cart is saved successfully"}),t.$router.push("/")})):this.addMessage({level:"danger",message:s})}else this.addMessage({level:"warning",message:"Please login to save your cart"})},checkout:function(){var t=this;if(this.isLoggedIn){if(!this.cartItemList||0==this.cartItemList.length)return void this.addMessage({level:"warning",message:"Your cart is empty!"});var e=this.checkValidCart(this.cartItemList,this.products),a=e.isValid,s=e.message;a?this.saveToTransaction({cartItemList:this.cartItemList,uid:this.currentUser.uid}).then((function(){t.addMessage({level:"success",message:"Your order has been successfully processed!"}),t.saveShoppingCart({cartItemList:[],uid:t.currentUser.uid}),t.clearCart(),t.$router.push("/")})):this.addMessage({level:"danger",message:s})}else this.addMessage({level:"warning",message:"Please login to checkout"})}}),watch:{shoppingCart:function(){console.log("Changed")}}},kt=Pt,St=(a("3676"),Object(C["a"])(kt,mt,ft,!1,null,"36b261d4",null)),Et=St.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 offset-md-3 col-sm-12 offset-sm-1"},[a("form",{staticStyle:{display:"block"},attrs:{id:"login-form",role:"form"}},[a("h3",{staticClass:"text-center"},[t._v("Login")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",state:t.checkEmail,"lazy-formatter":""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:t.disableLogin},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v(" Log in "),t.isLoading?a("b-spinner",{attrs:{small:""}}):t._e()],1)]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"text-center"},[a("router-link",{attrs:{to:"/register"}},[a("a",[t._v("New user? Register")])])],1)])])])])])])},Dt=[],It=(a("caad"),a("2532"),a("498a"),a("6c27"));function Nt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function xt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Nt(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Nt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Mt={components:{"b-spinner":it["a"]},data:function(){return{email:"",password:"",isLoading:!1}},methods:xt({},Object(o["b"])(["addMessage","setCurrentUser","setAdmin"]),{login:function(){var t=this;this.isLoading=!0;var e=this,a={func_name:"select_online_client",func_argument:this.email};if("admin"===this.email&&"admin"===this.password)return this.setAdmin(!0),void this.$router.push({name:"Statistics"});console.log(a),f.a.post("",JSON.stringify(a),{headers:{"Content-Type":"application/json"}}).catch((function(t){e.addMessage({level:"danger",message:t})})).then((function(a){if(console.log(a.data),a.data.returnValue&&""!==a.data.returnValue)if(a.data.returnValue.split("\n").length>2){var s=a.data.returnValue.split("\n")[1].split("|"),r={cid:s[0],firstName:s[1],lastName:s[2],email:s[3],phoneNumber:s[4],street:s[5],zip:s[6],city:s[7],state:s[8],cardNumber:s[9],accountNumber:s[10],password:s[11]};r.password.trim()===Object(It["sha256"])(t.password.trim())?(e.setCurrentUser(r),e.$router.push({name:"ProductList"})):e.addMessage({level:"danger",message:"Password does not match."})}else e.addMessage({level:"danger",message:"This Email address does not exist. Please register."});else e.addMessage({level:"danger",message:a.data.message});e.isLoading=!1}))}}),computed:{disableLogin:function(){return this.isLoading||""===this.email||""===this.password},checkEmail:function(){return this.email.includes("@")}}},Tt=Mt,Ut=Object(C["a"])(Tt,Lt,Dt,!1,null,null,null),At=Ut.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 offset-md-3 col-sm-10 offset-sm-1"},[a("form",{attrs:{id:"register-form",role:"form"}},[a("h3",{staticClass:"text-center"},[t._v("Register")]),a("div",{staticClass:"form-group"},[a("b-form-input",{staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",state:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("div",{staticClass:"form-group"},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text",name:"first-name",id:"first-name",placeholder:"First Name",state:t.checkFirst},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),a("div",{staticClass:"form-group"},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text",name:"last-name",id:"last-name",placeholder:"Last Name",state:t.checkLast},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),a("div",{staticClass:"form-group"},[a("b-form-input",{staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password at least 6 characters",state:t.checkPassword},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.insertOnlineClient(e)}}},[t._v(" Register "),t.isLoading?a("b-spinner",{attrs:{small:""}}):t._e()],1)])])])])},Vt=[];function Rt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Gt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Rt(a,!0).forEach((function(e){Object(p["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Rt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ft={components:{"b-form-input":et["a"],"b-spinner":it["a"]},data:function(){return{email:"",firstName:"",lastName:"",password:"",isLoading:!1,isChecking:!1}},methods:Gt({},Object(o["b"])(["addMessage","setCurrentUser"]),{checkInformation:function(){this.isChecking=!0;var t="";return this.checkEmail||(t+="Email Address not valid. "),this.checkFirst||(t+="First Name not empty. "),this.checkLast||(t+="Last Name not empty. "),this.checkPassword||(t+="Password at least 6 characters. "),""===t||(this.addMessage({level:"danger",message:t}),!1)},insertOnlineClient:function(){var t=this.checkInformation();if(t){this.isLoading=!0;var e=this,a={func_name:"insert_online_client",func_argument:this.firstName+"|"+this.lastName+"|"+this.email+"|"+Object(It["sha256"])(this.password)};console.log(JSON.stringify(a)),f.a.post("",JSON.stringify(a),{headers:{"Content-Type":"application/json"}}).catch((function(t){e.addMessage({level:"danger",message:t})})).then((function(t){if(console.log(t.data),t.data.message&&t.data.message.includes("duplicate key value violates unique constraint"))e.addMessage({level:"danger",message:"This Email address has been registered. Please log in."});else if(t.data.returnValue&&""!==t.data.returnValue){var a={cid:t.data.returnValue.split("\n")[1],firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:null,street:null,zip:null,city:null,state:null,cardNumber:null,accountNumber:null,password:e.password};e.setCurrentUser(a),e.$router.push({name:"ProductList"}),e.addMessage({level:"success",message:"Successfully registered."})}else e.addMessage({level:"danger",message:t.data.message});e.isLoading=!1}))}}}),computed:{checkEmail:function(){return this.isChecking?this.email.includes("@"):null},checkFirst:function(){return this.isChecking?""!==this.firstName:null},checkLast:function(){return this.isChecking?""!==this.lastName:null},checkPassword:function(){return this.isChecking?this.password.length>=6:null}}},Bt=Ft,Jt=Object(C["a"])(Bt,$t,Vt,!1,null,null,null),zt=Jt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Statistics TODO ")])},Yt=[],Ht={},Kt=Object(C["a"])(Ht,qt,Yt,!1,null,null,null),Qt=Kt.exports,Wt=[{path:"/",component:pt,name:"ProductList"},{path:"/login",component:At,name:"Login"},{path:"/register",component:zt,name:"Register"},{path:"/statistics",component:Qt,name:"Statistics"},{path:"/shoppingcart",component:Et,name:"ShoppingCart"},{path:"*",redirect:"/"}],Xt=a("ecee"),Zt=a("c074"),te=a("ad3d");Xt["c"].add(Zt["a"]),s["a"].component("font-awesome-icon",te["a"]),s["a"].use(r["a"]),s["a"].use(i.a),s["a"].use(o["a"]),f.a.defaults.baseURL="https://3zo4ophla5.execute-api.us-east-1.amazonaws.com/cs425project_v1";var ee=new r["a"]({mode:"history",routes:Wt}),ae=new o["a"].Store({modules:{global:q}});new s["a"]({router:ee,store:ae,render:function(t){return t(G)}}).$mount("#app"),window.$cookies.config(900,"")},"93a7":function(t,e,a){},a899:function(t,e,a){},afcb:function(t,e,a){},b702:function(t,e,a){"use strict";var s=a("93a7"),r=a.n(s);r.a},d086:function(t,e,a){}});
//# sourceMappingURL=app.77bab6a8.js.map